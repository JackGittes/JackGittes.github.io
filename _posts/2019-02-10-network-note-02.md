---
title: |
    计算机网络原理笔记 02
category: 学习笔记
author: 赵明心
excerpt: |
    西安交通大学计算机网络原理公开课笔记
use_math: true
#feature_text: |
  ## The Pot Still
#  The modern pot still is a descendant of the alembic, an earlier distillation device
#feature_image: "https://unsplash.it/1200/400?image=1048"
#image: "https://unsplash.it/1200/400?image=1048"
---

## 概述（二）

作者：赵明心	日期：2019/02/09

上节讲到了网络分层的好处（使主机从通信任务中解脱出来，同时便于网络扩展）。

#### 1.2.3	具有公共数据通信网的计算机网络
	
分组的存储转发
-	（1）公共传输网络建设：扩大通信子网络的规模使之成为公用的数据传输网络。
-	（2）划分分组
-	（3）先存储再转发：中间节点以先存储再转发的方式工作
	
现在使用的最大的INTERNET就是这样的网络，给用户提供了数据传输的主干网络即公用数据通信网，任何用户只要接入公共网络即可完成与其他用户的数据交换。

通信网络中，例如最常见的路由器，它即完成数据的发送工作，它本身不关心数据的内容，只关心目的地在哪里，怎样传输能达到用户的要求。

在这种结构与思想的促进之下，网络才能发展和扩大到今天的规模。现代网络结构的主要特征就是（1）分布式（2）通信子网与资源子网。
	
还有分组交换，为什么要提到分组？能否对数据进行裸传输呢？显然是不可以的，不给数据加额外信息，通信子网根本无法得知如何送达和送达的需求。因此数据在发送时必须要添加额外信息。

再者，并不是不管数据有多大数据都会一次性发送出去，正如送快递一样，不会一次性把所有东西一次性全部送达。这个对用户来说是不可接受的，例如FTP传输数据，一次性传输则无法断点续传。同时，计算机需要对传输的数据的正确性有验证，能够准确的定位和恢复。在一次性传输的情况下，一旦出错，则需要完整重新传输，而且一次性传输的出错率也会远大于分开传输。还有就是，在一次性传输的过程当中，传输数据的用户将独占那一条线路，其他用户无法占用，这违背了网络的公平性原则。

最后，这种一次性传输对于中间节点来说也是灾难性的，这个体现在于一次性传输需要在中间节点上进行大量缓存。所以一定要对传输的数据进行划分、分段。在网络中成为分组，即对数据传输的上限进行约定。以太网对数据传输的要求是不能超过1500个字节，超过1500个字节就要分段。

分段也会带来问题，一个是是否需要等长的数据段？例如ATM网络(曾经在计算机网络历史中起到了很大作用，现在使用较少)，ATM中使用了信元方式传输，每个信元大小为53个字节，不满53个字节就进行填充。

而在INTERNET中，只规定了最大的数据长度，不约定每段数据的长度。等长数据分段的好处是实现简单，甚至可以直接由硬件实现，速度很快。但是例如ATM信元传输的时候53字节，53字节=5个额外控制信息+48个有效数据，因此有效数据传输率是48/53，等长数据传输好处是快，有效利用率问题，太短利用率低，太长的话会有很多需要填充的利用率也不高。因此现代网络基本都是不等长数据分段。

最后一个是网络中的全连接问题，无法保证任何两个节点之间都有直接连接。网络链接的两种方式，一种是电话式的，直接建立物理连接，一种是邮局式的，需要很多中间邮局和邮递员转发。物理连接的好处是数据传输的实时性是有保证的，但是计算机网络并没有选择第一种方式，选择第二种方式的原因有几个：（1）跟最初建立网络的目的有关，网络早期以文本传输为主，认为网络用户对时延的要求不高，因此选择了第二种方式。
	
选择第二种方式的好处是：（1）不会出现拒绝，打电话时可能出现网络繁忙而拒绝服务的问题，第二种方式可以尽可能为多个用户服务。（2）线路利用率比较高。

中间节点为什么不直接转发而是先存储？
例如路由器，当路由器从端口接收到数据之后，会先存储数据之后再进行转发。存储可以解决什么问题呢？
-	（1）考虑一个三节点网络A —— B —— C，对A来说要求数据的高可靠性，那么B节点就可以对接收到的数据进行检验，保证数据的正确性之后再转发到A。所以为了达到检错的目的，需要先存储。
-	（2）多人发送的情况，B连接不仅AB还有D，此时如果AD同时传输数据并且选择了相同的传输方向，也即AD均发送数据到B，那么这个时候数据就需要排队，在排队的时候就需要先进行存储。
-	（3）A到B的链路速率为100M，而BC链路只有10M，在这种情况下，不能存储是不行的，B必须要以100M的速率接受数据并存储下来，然后再以10兆的速率转发出去。即使大家都是10M的线路，如果B的处理速度较慢或者有其他的任务导致B无法及时进行接收，也是需要存储的。
-	（4）先存储再转发还有一个最基本的任务就是寻址，由于我们没有两两互联，一定有中间节点转发，中间节点一个核心任务就是选择一条合适的路径进行转发，使之能到达目的节点。这也是通信子网中的中间设备被成为路由器的原因，路由器就是要进行路由选择，选择合适路径进行转发。要想进行地址识别和寻址，首先要接受数据并缓存，接收玩目的地址之后进行查找路由表，找到合适路径才能进行转发。

综合以上几个原因，通信子网的节点都是需要先存储再转发的方式才可以。


现代计算机网络都是分组交换式网络。再总结一下特征就是（1）分布式结构，所有节点都是自治系统。（2）网络是分层的，这个网络按照信息处理与通信分成了资源子网和通信子网，资源子网只负责数据处理和递交。（3）数据转发过程需要划分分组，并且需要进行先存储再转发。

#### 1.2.4	第三个历史阶段：体系结构标准化网络
	
在上个世纪的70年代，网络应用越来越多，网络服务提供商（IBM等）发现一个问题，即使自己生产的不同系列计算机也很难连接在一起。不同的计算机机器字长不同、数据表示方式不同等等。不同的厂商制定了各自的标准，如IBM的SNA结构，DEC公司的DNA体系结构，这些结构可以保证只要是自己生产的计算机都可以方便的互联。但是计算机仍然有很多厂商。

国际标准化组织制定了一个统一的国际标准，ISO-OSI/RM，开放系统互联参考模型。设计者和制定者认为，只要计算机遵循此标准，就称之为开放系统，只要该系统是开放系统则与其他开放系统之间就可以进行互联。当然这个标准从诞生（上个世纪80年代）到现在30多年都没有实际产品，虽然该标准一直没有实际产品但是这个标准在计算机网络发展中有举足轻重的作用，因为OSI提出的分层模型是现代计算机网络的主流模型。

所以OSI虽然没有产品，但是其相关研究方法和术语是现在普遍使用的，现代计算机网络的主流标准是TCP/IP协议集。为什么该协议集能成为事实标准？因为INTERNET把它作为了支撑协议，而INTERNET是当今最大的互联网络。除此之外TCP/IP还有一些自身的优势使之能站得住脚成为事实标准。

以上就是计算机网络发展历史的三个阶段：（1）以单处理机为中心的多终端联机系统，（2）分组交换网络，（3）标准化阶段。

实际上在计算机网络发展中，有两个网络起到了关键作用：（1）局域网（2）INTERNET。局域网出现于上世纪的70年代末80年代初，INTERNET开放于公众是上世纪90年代，由于其本身结构优秀、应用丰富，使之快速成为全球最大的网络平台。

现在一些与网络有关的热词：
-	（1）“三网合一”：电信网络、计算机网络、有线电视网络相互融合，物理上和应用上，在传输上无缝连接
-	（2）全光网络：现在的骨干网络基本都是全光网络，但是从骨干网络到接入点目前还没有全光
-	（3）物联网：物物相连的互联网

需要特别强调的是，局域网占据了重要的地位，正是因为上世纪80年代小规模网络的出现使得大家对网络的依赖性越来越高，以至于发展到大型网络。

#### 1.3	计算机网络的分类

对计算机网络按照不同的标准有不同的结果，按照最常用的分类方法，即地理覆盖范围进行分类：

覆盖范围分类：
	（1）局域网(Local Area Network, LAN)
	（2）城域网(Metropolitan Area Network, MAN)
	（3）广域网(Wide Area Network, WAN)

按照其他标准分类的话：
-	（1）传输技术：广播式网络、点对点式网络
-	（2）通信介质：有线网、无线网
-	（3）按通信速率：高、中、低速（宽带网络与窄带网络）
-	（4）按使用用户：公网、专网
-	（5）按网络控制：分布式、集中式
-	（6）网络应用环境：部门、企业、校园

城域网在平时和文献中比较少见。不同的网络范围会有不同的问题，局域网范围一般是几十公里最多100公里，网络跨度在这个范围内。超过此范围都称为广域网。

局域网和广域网由于覆盖范围不同，网络的结构和传输方式都有很大差异。在广域网当中进行广播是不现实的，而在局域网当中是可以进行广播的。广域网中大家都选择广播的时候，会造成广播信息的泛滥，同时网络带宽被极大浪费。而且局域网的范围有限，一般来说只有一个所有者，广域网的范围较广，所有者有多个。对于只有一个所有者的网路，所有子网可以选择同样的网络结构，而有多个所有者的时候，就有可能选择不同的网路结构。

再者，两个局域网进行互联的时候，所有者从一个变成两个的时候，如果所有者只有一个，那么路由只需要一个，而两个所有者则需要两个路由器。为什么需要两个路由器？主要是取决于管理因素，每个所有者都可以独立控制自己的路由，控制端口的流量。实际上在技术上是可以用一个路由的。

地理范围的不同带来结构和传输方式上有巨大的不同。为什么现在很少提及城域网？因为城域网的传输技术与局域网是很类似的，所以一般把城域网也归为局域网。

无线网络比有线网络出错的概率会更高，而有线网络的误码率很低，有线网络的差错恢复相对简单。

现代计算机网络并非没有集中式的，例如飞机订票系统、火车订票系统、银行系统仍然是集中式的，分布式的网络同步是一个很大的问题，而这些对数据要求比较高的网络仍然是集中式的网络。

- 问题：传输介质和传输信道是不是一个概念？
- 不是，数据传输是以物理介质（双绞线、光纤、红外线等等）为基础的，信道是信息传输的通道，并不是一个概念。有了物理基础之后，怎样使用物理介质进行信息传输是信道需要解决的问题。

下一讲是网络的物理结构和网络的逻辑结构。