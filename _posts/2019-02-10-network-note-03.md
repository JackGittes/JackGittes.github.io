---
title: |
    计算机网络原理笔记 01
category: 学习笔记
author: 赵明心
excerpt: |
    西安交通大学计算机网络原理公开课笔记
use_math: true
#feature_text: |
  ## The Pot Still
#  The modern pot still is a descendant of the alembic, an earlier distillation device
#feature_image: "https://unsplash.it/1200/400?image=1048"
#image: "https://unsplash.it/1200/400?image=1048"
---

作者：赵明心	日期：2019/02/10

回顾：
不同的计算机之间进行通信需要遵循一定的规则————协议。同时网络为了保证一些特性而具有三个特性。

#### 2.1	计算机网络的结构
	
对应于传输介质和传输信道的概念，计算机网络分为物理结构和逻辑结构。
-	（1）物理结构：物理连接方式、拓扑结构
-	（2）逻辑结构：信道连接方式、数据传输方式
	
#### 2.1.1	物理结构

物理结构成为拓扑结构，联系离散数学的知识，拓扑就是在研究点、线构成的图形的特性。

拓扑结构的定义：采用拓扑学的方法抽象的网络结构，研究计算机网络中“点”和“线”构成的几何图形。

拓扑结构的种类：总线型、星型、环型、树型、网状型等。

点可以对应于主机，而线可以对应于传输介质（不管是有线还是无线）。总线型：一条线串行链接所有设备。星型：一个主机，其他机器链接到中央主机。计算机设备数量、物理位置已经确定的情况下，如何用物理介质将它们连接起来？数据该如何传输？以上五种拓扑结构是主要介绍的，不同的拓扑结构对网络传输有不同的影响。
	
#### 2.1.2	总线型拓扑

所有节点连接到一条共享的总线上。局域网发展早期最常见的拓扑结构，现代局域网已经基本不再采用这种结构。网络中的应用数量和紧迫程度不高的时候，总线型结构是可以的。在这种拓扑之上的传输方式也是非常简单的，是一种广播式的传输方式，所有设备共享总线也就能共享得到总线上传输的信息。
-	优点：电缆长度短、布线容易
-	缺点：故障扩散性、故障定位排除困难（网络发生故障之后只能借助二分法定位故障点，因为不管网络中哪个部分发生了问题，都会导致整个网络瘫痪，且表现是一样的，这也就导致了总线型网络很难扩展到很大的规模。）

#### 2.1.3	星型拓扑

由中央节点和通过点到点链路连接到中央节点的各节点组成。
-	优点：
	（1）建网灵活
	（2）便于集中式管理
	（3）除中央节点外其他节点发生故障不扩散，易定位排除
-	缺点：
	（1）电缆长度长，布线难
	（2）依赖于中央节点
	中间节点的功能可能有两种：（1）只完成转接点功能，完成连通性（2）除了负责连通，还要进行数据处理。在现代网络中，中间节点一般只起到连通性作用。当下的局域网主要使用的就是星型拓扑。
	
	就是因为星型拓扑能够克服总线型网络的缺点，星型网络中增加、删除节点、节点出现故障都不会对其他网络设备产生影响（从交换机端口上插入和拔出不会对其他网络有影响）。其次，集中式控制结构是便于管理的，例如盗用IP的时候很容易从中间节点获知是谁在盗用IP，而且很容易封禁IP（关闭端口）。
	当然缺点也是很明显的，中央节点必须有点到点的链接，中间节点的位置选择和各个设备到中间节点的点到点布线是很麻烦的。

#### 2.1.4	环型拓扑
环型拓扑是一种首尾相连的总线型结构。
-	优点：与总线型类似，最适合采用光纤
-	缺点：对环路的可靠性依赖更强

	总线型的拓扑结构数据传输是双向的，只有双向才能保证所有节点都能收到，保证目的节点可以收到信息。而环型的拓扑结构是不能使用双向的，不可以同时顺时针和逆时针传输。在总线型拓扑结构中，存在一个冲突问题，当两个以上节点同时发送数据的时候信号会发生重叠，这种重叠信号是没有意义的，总线型拓扑要解决的一个重要问题就是解决冲突。因此环型拓扑肯定不能双向传输，不然就会发生自己和自己的重叠。

	再者，如果没有节点把传输的数据进行删除，数据将会在环路当中无休止的传输下去，是由发送方、接收方还是中央管理来删除呢？可以让数据绕一圈，当数据绕一圈的时候由发送方来删除。不能由接收方来删除，原因有以下几个（1）有多个接收方的时候，不知道由哪个接收方来删除（2）即使只有一个接收方，如果接收方出现故障，也是无法删除的。一般的网络设计都是数据传输一周，由发送方发送数据并且由发送方删除数据。

	环型网络的性能其实是降低了，因为要保证数据传输一周。在上世界90年代，FDDI网络采用了环型网络结构。而现在的网络很少采用环型的结构。光纤的产生和发展是环型网络被使用的主要原因（因为光是单向传输的，如果采用总线结构必须是双总线的，星型结构的情况下必须是有源星型，每个连接线都是双向的），所以FDDI采用了环型结构。
	拓扑结构要慎重选择，拓扑结构的选择会限制很多后续工作，同时拓扑结构对传输介质有影响。

#### 2.1.5	树型拓扑
形状像一棵倒置的树，由根和叶节点组成，一般不单独使用。
-	优点：
	（1）属于分层网络，具有一定的容错能力
-	缺点：
	（1）属于集中式控制，对上层节点的依赖性强

	以上提到的这些网络模型一般都是针对局域网，因为网络规模较小的时候才能找到比较明晰的网络结构，当网络规模非常大的时候，结构很复杂。
	
#### 2.1.6	网状型拓扑

没有明晰结构的拓扑被称为网状拓扑。
-	优点：可靠性高
-	缺点：通信线路冗余大、传输效率低。

	任何两个节点间传输的时候一般都有多条链路可以选择，链路的冗余提高了可靠性但是降低了传输的效率（因为网络节点之间不是直接传输的，而需要经过其他节点）。

#### 2.2	选择拓扑结构需要考虑的因素

（1）传输介质（2）介质访问控制方法，简单地说，在使用介质的时候，数据是如何传输的（3）费用、灵活性、可靠性，如果对可靠性要求比较高的时候不能使用总线型、环型结构，如果对费用要求高，那么不适合使用星型结构。

拓扑结构的选择与很多因素密切相关。

不同拓扑的常见应用场合：
-	（1）总线型：LAN，越来越少
-	（2）环型：令牌环网、FDDI
-	（3）星型：LAN（目前局域网的主要拓扑，注意此处的星型可能不是简单的星型，有可能是星型树，有很多星型组成的树）
-	（4）网状：WAN主干

#### 2.3	网络的传输方式（逻辑结构）

有了物理结构之后，数据怎样传输取决于很多因素。

网络的两种主要的传输方式：
-	（1）广播式网络（Broadcast Networks）
-	（2）点到点式网络（Point-to-Point Networks）

#### 2.3.1	广播式传输网络

基本特点：
-	（1）所有计算机共享一条通信信道（总线型共享的是总线，广播共享的是信道）
-	（2）任一台计算机发出的信息可以直接被其他所有计算机接受
-	（3）两台以上计算机同时发送会产生冲突

关键技术
-	（1）介质访问控制方法（这是广播网络协议制定者需要解决的核心问题）

		发现冲突、避免冲突、解决冲突

	简单点说，需要有一种机制，保证在任何一个时刻只有一个节点能发出信息，这样才能避免冲突。使用上课举手的方式可以从根本上避免冲突，基于仲裁、预约的方式存在非常大的问题，（1）违背了简单性原则，任何主机发送信息都要受制于人，传输的时候需要有协商机制，这个效率会很低（2）入网时延增加、信道浪费，因为在没有数据传输的时候还是需要走仲裁路线。所以现代局域网很少使用仲裁预约机制。
	讲前先听：等待没有人说的时候提问
	边讲边听：一边提问题一边听，检测是不是有冲突
	
	解决冲突，多台计算机接入网络与多人交谈非常类似，但是计算机没有人类智能，所以需要把尽可能多的情况考虑到。广播式传输的核心就是解决冲突。
	广播式传输一般选择总线型或者环型拓扑结构。

#### 2.3.2	点到点式传输网络
	
广播是没有秘密可言的，同时由于信道的共享性，需要保证任何时候都只有一个节点发送信息。那么在广域网当中是否可以采用广播的方法？不可以，一旦使用了广播意味着一个数据在网络中会存在副本，对网络带宽带来很大压力。因此广域网中不可以使用广播式传输，需要使用点到点传输。
	
基本特点：
- （1）一条线路连接两个网络互连设备（点到点）
-	（2）一般情况下，两台计算机间的传输需要经过多台网络互连设备
-	（3）一般情况下，两台计算机之间的传输有多条路径可供选择

关键技术：
	路由选择

网络规模比较大的时候无法选择全连接的结构，点到点的网络中，协议设计者需要解决的核心问题是路径问题，也即路由选择问题。